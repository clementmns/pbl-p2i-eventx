<div class="w-2/3">
    <div class="flex items-center gap-3 mb-6">
        <h2 class="text-2xl font-bold">Events</h2>
    </div>
    <p class="text-gray-700 mb-4">Browse all available events below.</p>
    <div class="w-full">
        <a href="/events/create" class="w-full py-2 px-4 mb-6 bg-gray-800 text-white font-semibold text-center block">Create Event</a>
        {% if events is defined and events|length > 0 %}
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            {% for event in events %}
            <div class="bg-white border border-gray-300">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex items-start justify-between">
                        <div class="flex items-center gap-3">
                            <h2 class="text-xl font-bold text-gray-800">{{ event.name }}</h2>
                        </div>
                        <div class="flex items-center gap-2">
                            <div class="text-xs flex gap-2">
                                <div class="text-gray-900 font-medium">{{ event.registeredCount }}</div>
                                <div class="text-gray-500">joined</div>
                            </div>
                            <div class="flex items-center gap-1 text-xs text-gray-500">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bookmark-icon lucide-bookmark"><path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"/></svg>
                                <span>{{ event.wishlistCount }}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-6">
                    <p class="text-gray-700 mb-6 text-sm leading-relaxed w-full break-words">{{ event.description }}</p>
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="space-y-2">
                            <div class="flex items-center gap-2">
                                <div class="w-8 h-8 flex items-center justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock-icon lucide-clock"><path d="M12 6v6l4 2"/><circle cx="12" cy="12" r="10"/></svg>
                                </div>
                                <div class="text-xs">
                                    <div class="text-gray-500">Start</div>
                                    <div class="text-gray-900">{{ event.startDate|date('F j, Y \a\t H:i') }}</div>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-8 h-8 flex items-center justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock-fading-icon lucide-clock-fading"><path d="M12 2a10 10 0 0 1 7.38 16.75"/><path d="M12 6v6l4 2"/><path d="M2.5 8.875a10 10 0 0 0-.5 3"/><path d="M2.83 16a10 10 0 0 0 2.43 3.4"/><path d="M4.636 5.235a10 10 0 0 1 .891-.857"/><path d="M8.644 21.42a10 10 0 0 0 7.631-.38"/></svg>
                                </div>
                                <div class="text-xs">
                                    <div class="text-gray-500">End</div>
                                    <div class="text-gray-900">{{ event.endDate|date('F j, Y \a\t H:i') }}</div>
                                </div>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <div class="flex items-center gap-2">
                                <div class="w-8 h-8 flex items-center justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pin-icon lucide-pin"><path d="M12 17v5"/><path d="M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z"/></svg>
                                </div>
                                <div class="text-xs">
                                    <div class="text-gray-500">Location</div>
                                    <div class="text-gray-900">{{ event.place }}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flex gap-2">
                        <form method="post" action="/events/join" class="flex-1">
                            <input type="hidden" name="eventId" value="{{ event.id }}">
                            <button type="submit" class="cursor-pointer w-full py-2 flex gap-2 items-center justify-center px-4 bg-gray-800 text-white font-medium text-sm hover:bg-gray-700 transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus-icon lucide-plus"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
                                Join
                            </button>
                        </form>
                        <form method="post" action="/wishlist/add" class="flex-1">
                            <input type="hidden" name="eventId" value="{{ event.id }}">
                            <button type="submit" class="cursor-pointer flex gap-2 items-center justify-center w-full py-2 px-4 border border-gray-300 text-gray-700 font-medium text-sm hover:bg-gray-50 transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bookmark-plus-icon lucide-bookmark-plus"><path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"/><line x1="12" x2="12" y1="7" y2="13"/><line x1="15" x2="9" y1="10" y2="10"/></svg>
                                Wishlist
                            </button>
                        </form>
                    </div>
                    {% if user.id == event.userId %}
                        <div class="flex gap-2 mt-2">
                            <form action="/events/edit" method="GET" class="w-full">
                                <input type="hidden" name="eventId" value="{{ event.id }}">
                                <button type="submit" class="py-2 px-4 cursor-pointer flex gap-2 items-center w-full justify-center bg-gray-600 text-white font-medium text-sm text-center hover:bg-gray-500 transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil-icon lucide-pencil"><path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"/><path d="m15 5 4 4"/></svg>
                                    Edit
                                </button>
                            </form>
                            <form action="/events/delete" method="POST" class="w-full">
                                <input type="hidden" name="eventId" value="{{ event.id }}">
                                <button type="submit" class="cursor-pointer flex gap-2 items-center justify-center w-full py-2 px-4 bg-red-600 text-white font-medium text-sm hover:bg-red-700 transition-colors" onclick="return confirm('Are you sure you want to delete this event?');">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash-icon lucide-trash"><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/><path d="M3 6h18"/><path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
                                    Delete
                                </button>
                            </form>
                        </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
            <div class="text-gray-500 mb-8">No events found.</div>
        {% endif %}
    </div>
</div>
