{% extends 'app/base.twig' %}

{% block title %}Home - EventX{% endblock %}

{% block content %}


<div>
    <h1 class="text-3xl font-bold mb-6">Events</h1>
    <p class="text-gray-700 mb-4">Browse all available events below.</p>
    <div class="w-1/2 mx-auto">
        <a href="/events/create" class="w-full py-2 px-4 mb-6 bg-gray-800 text-white font-semibold text-center block">Create Event</a>
        {% if events is defined and events|length > 0 %}
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
            {% for event in events %}
            <div class="bg-white border border-gray-300 p-6 flex flex-col justify-between">
                <h2 class="text-2xl font-bold text-gray-800 mb-2">{{ event.name }}</h2>
                <p class="text-gray-700 mb-4">{{ event.description }}</p>
                <div class="mb-2 text-sm text-gray-600"><strong>Start:</strong> {{ event.startDate|date('F j, Y \a\t H:i') }}</div>
                <div class="mb-2 text-sm text-gray-600"><strong>End:</strong> {{ event.endDate|date('F j, Y \a\t H:i') }}</div>
                <div class="mb-2 text-sm text-gray-600"><strong>Location:</strong> {{ event.place }}</div>
                <div class="flex gap-4 mt-4">
                    <form method="post" action="/wishlist/add" class="inline">
                        <input type="hidden" name="eventId" value="{{ event.id }}">
                        <button type="submit" class="py-2 px-4 bg-gray-800 cursor-pointer text-white font-semibold">Add to Wishlist</button>
                    </form>
                    <form method="post" action="/events/join" class="inline">
                        <input type="hidden" name="eventId" value="{{ event.id }}">
                        <button type="submit" class="py-2 px-4 bg-gray-800 cursor-pointer text-white font-semibold">Join</button>
                    </form>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
            <div class="text-gray-500 mb-8">No events found.</div>
        {% endif %}
    </div>
</div>

{% endblock %}
